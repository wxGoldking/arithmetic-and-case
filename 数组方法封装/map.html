<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Document</title>
</head>
<body>
    <script>
        Array.prototype.map=function(callback){
            var result=[];
            for (var i = 0; i < this.length; i++) {
                result.push(callback(this[i],i,this));
            };
            return result;
        }
        var brr=[
        {
            name:"haha",
            age:15,
            sex:"nan"
        },
        {
            name:"xixi",
            age:19,
            sex:"nv"
        },
        {
            name:"dashu",
            age:31,
            sex:"nan"
        },
        {
            name:"jiejie",
            age:27,
            sex:"nv"
        },
        {
            name:"yeye",
            age:72,
            sex:"nan"
        },
        ];
        console.log(brr.filter((item,index)=>{
            if(item.sex=="nv"){
                item.sing=function(){
                    console.log("lalalalalala!")
                }
            }
            return item;
        }))
        console.log(brr);
    </script>
</body>
</html>